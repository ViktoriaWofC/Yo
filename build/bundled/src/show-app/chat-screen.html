<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-auth-script.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-database-script.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-storage-script.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-messaging-script.html">

</head><body><dom-module id="chat-screen">
  <template>
    <style>
      :host {
        display: block;
      }
	  	  
	  #head {
		display: block;
        background-color: rgba(250, 112, 62, 1);
		height:80px;
		weight: 100px;
		text-align:center;
		line-height: 80px;
		color:white;
		
      }
	  
	  #inp{
		display: block;
        <!--background-color: rgba(205, 255, 173, 1);-->
		background-color:white;
		height:200px;
		width: 200px;
		text-align:center;
		color:black;
		padding:10px;
		margin: 0 auto;
	  }
	  
	  #fab { 
		bottom: 50px;
		right:50 px;
		position: relative;
		 background-color:rgba(230, 0, 38, 1);
	   }
	   
	   paper-toolbar.red {
		--paper-toolbar-background: rgba(250, 112, 62, 1);
		--paper-toolbar-title: {
		  font-weight: bold;
		};
		}
		
		paper-fab.red {
			--paper-fab-background: rgba(230, 0, 38, 1);
			--paper-fab-keyboard-focus-background: var(--paper-light-blue-900);
		  }
	  
    </style>
    

	<paper-toolbar class="red">
            <div class="title"> Yo chat </div>
    </paper-toolbar>
	

	
	<firebase-app name="yo" auth-domain="labyo-4eddd.firebaseapp.com" database-url="https://labyo-4eddd.firebaseio.com" api-key="AIzaSyAdtQkrcir_8zHngYKusps-C5q12Z8DkHw" storage-bucket="labyo-4eddd.appspot.com" messaging-sender-id="296442453993">
	</firebase-app>
	
	<firebase-auth id="auth" app-name="yo" provider="google">
	</firebase-auth>
	
	<firebase-document id="document" app-name="yo" path="[[editableNoteId]]" data="{{editableNote}}">
	</firebase-document>
	
	<firebase-query id="query" app-name="yo" path="/yos" data="{{data}}">
	</firebase-query>

	<template is="dom-repeat" items="{{data}}" as="note">
	  <sticky-note note-data="{{note}}"></sticky-note>
	</template>
	
	
	<div id="fab">
            <paper-fab class="red" style="position:fixed; bottom: 30px; right:24px" on-click="sendYo">
			</paper-fab>
	</div>	
	
	
	
	<div padding-top="20px">
		value prop1 = [[prop1]]
	</div>
	
	
  </template>

  <script>function getFormattedDate(e){var t=e.getFullYear(),n=(1+e.getMonth()).toString();n=n.length>1?n:"0"+n;var o=e.getDate().toString();return(o=o.length>1?o:"0"+o)+"."+n+"."+t+"  "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}Polymer({is:"chat-screen",properties:{prop1:{type:String,value:"show-app"},k:{type:Number,value:0},uid:String,data:{type:Object,observer:"dataChanged"}},ready:function(){},dataChanged:function(e,t){},nick:function(e){this.nickname=e,socet.send("start")},sendYo:function(){console.log("send Yo");var e=getFormattedDate(new Date);console.log("data: "+e),console.log("nickname: "+this.nickname);var t={};t.text="Yo!",t.username=this.nickname,socket.send(JSON.stringify(t))}});var socket=new WebSocket("ws://92a9e92f.ngrok.io:80");socket.onopen=function(){},socket.onclose=function(e){e.wasClean?alert("Соединение закрыто чисто"):(alert("Обрыв соединения"),socket=new WebSocket("ws://92a9e92f.ngrok.io:80")),alert("Код: "+e.code+" причина: "+e.reason)},socket.onmessage=function(e){JSON.parse(e.data)},socket.onerror=function(e){alert("Ошибка "+e.message)};</script>
  
  
  
</dom-module>
</body></html>